"use strict";

var toastTimer = null;
var pendingToasts = [];

function clearToastTimer() {
  clearTimeout(toastTimer);
  toastTimer = null;
}

function enqueueToast(message, type) {
  // add the toast to the beginning of the array (queue)
  pendingToasts.unshift({
    message: message,
    type: type
  });

  if (toastTimer === null) {
    // no toast is currently showing
    showToast();
  }
}

function hideToast() {
  clearTimeout(toastTimer);
  toastTimer = null;
  var toast = document.getElementById('toast');
  var toastText = document.getElementById('toast-text');
  toast.classList.remove('show');
  setTimeout(function () {
    toastText.setAttribute('aria-live', 'polite'); // show the next toast if there is any pending

    showToast();
  }, 0);
}

function showToast() {
  var toast = pendingToasts.pop();
  if (!toast || !toast.message) return;
  var message = toast.message,
      type = toast.type;
  var toastElement = document.getElementById('toast');
  var toastText = document.getElementById('toast-text');
  var toastIcon = document.getElementById('toast-icon');
  toastText.setAttribute('aria-live', 'polite');
  toastText.innerHTML = message;

  if (type === 'error') {
    toastElement.className = 'toast show error';
    toastIcon.className = 'fas fa-exclamation-triangle';
  } else if (type === 'success') {
    toastElement.className = 'toast show success';
    toastIcon.className = 'fas fa-check';
  } else {
    toastElement.className = 'toast show';
    toastIcon.className = 'fas fa-info-circle';
  }

  clearTimeout(toastTimer);
  setTimeout(function () {
    toastText.setAttribute('aria-live', 'off');
  }, 0);
  toastTimer = setTimeout(hideToast, 10000);
}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRvYXN0cy5qcyJdLCJuYW1lcyI6WyJ0b2FzdFRpbWVyIiwicGVuZGluZ1RvYXN0cyIsImNsZWFyVG9hc3RUaW1lciIsImNsZWFyVGltZW91dCIsImVucXVldWVUb2FzdCIsIm1lc3NhZ2UiLCJ0eXBlIiwidW5zaGlmdCIsInNob3dUb2FzdCIsImhpZGVUb2FzdCIsInRvYXN0IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInRvYXN0VGV4dCIsImNsYXNzTGlzdCIsInJlbW92ZSIsInNldFRpbWVvdXQiLCJzZXRBdHRyaWJ1dGUiLCJwb3AiLCJ0b2FzdEVsZW1lbnQiLCJ0b2FzdEljb24iLCJpbm5lckhUTUwiLCJjbGFzc05hbWUiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEsVUFBVSxHQUFHLElBQWpCO0FBQ0EsSUFBTUMsYUFBYSxHQUFHLEVBQXRCOztBQUVBLFNBQVNDLGVBQVQsR0FBMkI7QUFDekJDLEVBQUFBLFlBQVksQ0FBQ0gsVUFBRCxDQUFaO0FBQ0FBLEVBQUFBLFVBQVUsR0FBRyxJQUFiO0FBQ0Q7O0FBRUQsU0FBU0ksWUFBVCxDQUFzQkMsT0FBdEIsRUFBK0JDLElBQS9CLEVBQXFDO0FBQ25DO0FBQ0FMLEVBQUFBLGFBQWEsQ0FBQ00sT0FBZCxDQUFzQjtBQUFFRixJQUFBQSxPQUFPLEVBQVBBLE9BQUY7QUFBV0MsSUFBQUEsSUFBSSxFQUFKQTtBQUFYLEdBQXRCOztBQUNBLE1BQUlOLFVBQVUsS0FBSyxJQUFuQixFQUF5QjtBQUFFO0FBQ3pCUSxJQUFBQSxTQUFTO0FBQ1Y7QUFDRjs7QUFFRCxTQUFTQyxTQUFULEdBQXFCO0FBQ25CTixFQUFBQSxZQUFZLENBQUNILFVBQUQsQ0FBWjtBQUNBQSxFQUFBQSxVQUFVLEdBQUcsSUFBYjtBQUNBLE1BQU1VLEtBQUssR0FBR0MsUUFBUSxDQUFDQyxjQUFULENBQXdCLE9BQXhCLENBQWQ7QUFDQSxNQUFNQyxTQUFTLEdBQUdGLFFBQVEsQ0FBQ0MsY0FBVCxDQUF3QixZQUF4QixDQUFsQjtBQUNBRixFQUFBQSxLQUFLLENBQUNJLFNBQU4sQ0FBZ0JDLE1BQWhCLENBQXVCLE1BQXZCO0FBQ0FDLEVBQUFBLFVBQVUsQ0FBQyxZQUFNO0FBQ2ZILElBQUFBLFNBQVMsQ0FBQ0ksWUFBVixDQUF1QixXQUF2QixFQUFvQyxRQUFwQyxFQURlLENBRWY7O0FBQ0FULElBQUFBLFNBQVM7QUFDVixHQUpTLEVBSVAsQ0FKTyxDQUFWO0FBS0Q7O0FBRUQsU0FBU0EsU0FBVCxHQUFxQjtBQUNuQixNQUFNRSxLQUFLLEdBQUdULGFBQWEsQ0FBQ2lCLEdBQWQsRUFBZDtBQUNBLE1BQUksQ0FBQ1IsS0FBRCxJQUFVLENBQUNBLEtBQUssQ0FBQ0wsT0FBckIsRUFBOEI7QUFGWCxNQUlYQSxPQUpXLEdBSU9LLEtBSlAsQ0FJWEwsT0FKVztBQUFBLE1BSUZDLElBSkUsR0FJT0ksS0FKUCxDQUlGSixJQUpFO0FBS25CLE1BQU1hLFlBQVksR0FBR1IsUUFBUSxDQUFDQyxjQUFULENBQXdCLE9BQXhCLENBQXJCO0FBQ0EsTUFBTUMsU0FBUyxHQUFHRixRQUFRLENBQUNDLGNBQVQsQ0FBd0IsWUFBeEIsQ0FBbEI7QUFDQSxNQUFNUSxTQUFTLEdBQUdULFFBQVEsQ0FBQ0MsY0FBVCxDQUF3QixZQUF4QixDQUFsQjtBQUVBQyxFQUFBQSxTQUFTLENBQUNJLFlBQVYsQ0FBdUIsV0FBdkIsRUFBb0MsUUFBcEM7QUFDQUosRUFBQUEsU0FBUyxDQUFDUSxTQUFWLEdBQXNCaEIsT0FBdEI7O0FBRUEsTUFBSUMsSUFBSSxLQUFLLE9BQWIsRUFBc0I7QUFDcEJhLElBQUFBLFlBQVksQ0FBQ0csU0FBYixHQUF5QixrQkFBekI7QUFDQUYsSUFBQUEsU0FBUyxDQUFDRSxTQUFWLEdBQXNCLDZCQUF0QjtBQUNELEdBSEQsTUFHTyxJQUFJaEIsSUFBSSxLQUFLLFNBQWIsRUFBd0I7QUFDN0JhLElBQUFBLFlBQVksQ0FBQ0csU0FBYixHQUF5QixvQkFBekI7QUFDQUYsSUFBQUEsU0FBUyxDQUFDRSxTQUFWLEdBQXNCLGNBQXRCO0FBQ0QsR0FITSxNQUdBO0FBQ0xILElBQUFBLFlBQVksQ0FBQ0csU0FBYixHQUF5QixZQUF6QjtBQUNBRixJQUFBQSxTQUFTLENBQUNFLFNBQVYsR0FBc0Isb0JBQXRCO0FBQ0Q7O0FBRURuQixFQUFBQSxZQUFZLENBQUNILFVBQUQsQ0FBWjtBQUNBZ0IsRUFBQUEsVUFBVSxDQUFDLFlBQU07QUFDZkgsSUFBQUEsU0FBUyxDQUFDSSxZQUFWLENBQXVCLFdBQXZCLEVBQW9DLEtBQXBDO0FBQ0QsR0FGUyxFQUVQLENBRk8sQ0FBVjtBQUdBakIsRUFBQUEsVUFBVSxHQUFHZ0IsVUFBVSxDQUFDUCxTQUFELEVBQVksS0FBWixDQUF2QjtBQUNEIiwic291cmNlc0NvbnRlbnQiOlsibGV0IHRvYXN0VGltZXIgPSBudWxsO1xuY29uc3QgcGVuZGluZ1RvYXN0cyA9IFtdO1xuXG5mdW5jdGlvbiBjbGVhclRvYXN0VGltZXIoKSB7XG4gIGNsZWFyVGltZW91dCh0b2FzdFRpbWVyKTtcbiAgdG9hc3RUaW1lciA9IG51bGw7XG59XG5cbmZ1bmN0aW9uIGVucXVldWVUb2FzdChtZXNzYWdlLCB0eXBlKSB7XG4gIC8vIGFkZCB0aGUgdG9hc3QgdG8gdGhlIGJlZ2lubmluZyBvZiB0aGUgYXJyYXkgKHF1ZXVlKVxuICBwZW5kaW5nVG9hc3RzLnVuc2hpZnQoeyBtZXNzYWdlLCB0eXBlIH0pO1xuICBpZiAodG9hc3RUaW1lciA9PT0gbnVsbCkgeyAvLyBubyB0b2FzdCBpcyBjdXJyZW50bHkgc2hvd2luZ1xuICAgIHNob3dUb2FzdCgpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGhpZGVUb2FzdCgpIHtcbiAgY2xlYXJUaW1lb3V0KHRvYXN0VGltZXIpO1xuICB0b2FzdFRpbWVyID0gbnVsbDtcbiAgY29uc3QgdG9hc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9hc3QnKTtcbiAgY29uc3QgdG9hc3RUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvYXN0LXRleHQnKTtcbiAgdG9hc3QuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpO1xuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICB0b2FzdFRleHQuc2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCAncG9saXRlJyk7XG4gICAgLy8gc2hvdyB0aGUgbmV4dCB0b2FzdCBpZiB0aGVyZSBpcyBhbnkgcGVuZGluZ1xuICAgIHNob3dUb2FzdCgpO1xuICB9LCAwKTtcbn1cblxuZnVuY3Rpb24gc2hvd1RvYXN0KCkge1xuICBjb25zdCB0b2FzdCA9IHBlbmRpbmdUb2FzdHMucG9wKCk7XG4gIGlmICghdG9hc3QgfHwgIXRvYXN0Lm1lc3NhZ2UpIHJldHVybjtcblxuICBjb25zdCB7IG1lc3NhZ2UsIHR5cGUgfSA9IHRvYXN0O1xuICBjb25zdCB0b2FzdEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9hc3QnKTtcbiAgY29uc3QgdG9hc3RUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvYXN0LXRleHQnKTtcbiAgY29uc3QgdG9hc3RJY29uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvYXN0LWljb24nKTtcblxuICB0b2FzdFRleHQuc2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCAncG9saXRlJyk7XG4gIHRvYXN0VGV4dC5pbm5lckhUTUwgPSBtZXNzYWdlO1xuXG4gIGlmICh0eXBlID09PSAnZXJyb3InKSB7XG4gICAgdG9hc3RFbGVtZW50LmNsYXNzTmFtZSA9ICd0b2FzdCBzaG93IGVycm9yJztcbiAgICB0b2FzdEljb24uY2xhc3NOYW1lID0gJ2ZhcyBmYS1leGNsYW1hdGlvbi10cmlhbmdsZSc7XG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3N1Y2Nlc3MnKSB7XG4gICAgdG9hc3RFbGVtZW50LmNsYXNzTmFtZSA9ICd0b2FzdCBzaG93IHN1Y2Nlc3MnO1xuICAgIHRvYXN0SWNvbi5jbGFzc05hbWUgPSAnZmFzIGZhLWNoZWNrJztcbiAgfSBlbHNlIHtcbiAgICB0b2FzdEVsZW1lbnQuY2xhc3NOYW1lID0gJ3RvYXN0IHNob3cnO1xuICAgIHRvYXN0SWNvbi5jbGFzc05hbWUgPSAnZmFzIGZhLWluZm8tY2lyY2xlJztcbiAgfVxuXG4gIGNsZWFyVGltZW91dCh0b2FzdFRpbWVyKTtcbiAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgdG9hc3RUZXh0LnNldEF0dHJpYnV0ZSgnYXJpYS1saXZlJywgJ29mZicpO1xuICB9LCAwKTtcbiAgdG9hc3RUaW1lciA9IHNldFRpbWVvdXQoaGlkZVRvYXN0LCAxMDAwMCk7XG59XG4iXSwiZmlsZSI6InRvYXN0cy5qcyJ9
